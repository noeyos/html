<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/mystyle.css">

<script>
proc1 = () => {
	
//  setTimeout( () => {   람다함수방식
	setTimeout(function() {		
		// result1으로 접근 검색
		vres = document.querySelector('#result1');
		
		// 배경색을 변경
		vres.style.backgroundColor = "pink";
		
	}, 500); // 0.5초가 지난 후에 function을 수행
}

proc2 = () => {
/* 	
	// 확인 버튼 클릭시 실행되는 함수
	// 확인 버튼을 안 보이도록 설정
	document.querySelector('#start').style.display="none";
	
	// 인터발은 실행시간까지 포함해서 500
	// 시간 보장이 안 됨
	
	vid = setInterval(() => {
		vres = document.querySelector('#result2');
		
		cr = parseInt(Math.random()*256);
		cg = parseInt(Math.random()*256);
		cb = parseInt(Math.random()*256);
		
		vres.style.backgroundColor = `rgb(${cr},${cg},${cb})`;
		
		console.log(vid);
//		vid = setTimeout(run, 500);
*/
// ----------------------------------------------------------------
	document.querySelector('#start').style.display="none";
	
	// 타임아웃은 실행하고 난 후 500 줌
	// 시간 보장
	
	vid = setTimeout( function run() {
		vres = document.querySelector('#result2');
		
		cr = parseInt(Math.random()*256);
		cg = parseInt(Math.random()*256);
		cb = parseInt(Math.random()*256);
		
//		vres.style.backgroundColor = `rgb(${cr},${cg},${cb})`;
		
		cr16 = cr.toString(16);
		cg16 = cg.toString(16);
		cb16 = cb.toString(16);
		
		vres.style.backgroundColor = "#" + cr16 + cg16 + cb16;
		
		console.log(vid);
		vid = setTimeout(run, 500);
		
	}, 500);
	
}

stop = () => {
	
	// 종료버튼 클릭시 실행되는 함수
	// 확인 버튼을 다시 나타나도록 설정
	document.querySelector('#start').style.display="inline";
	
//	clearInterval(vid);

	clearTimeout(vid);

}

</script>

<style>
#result1 {
	background-color: white;
}
</style>

</head>
<body>
	<div class="box">
		<h3>setTimeout(function(){}, millisecond)</h3>
		<h3>지정된 millisecond시간이 경과 후에 function을 수행후 종료한다</h3>
		<input type="button" value="확인" onclick="proc1()">
		<div id="result1" class="result"></div>
	</div>
	<div class="box">
		<h3>setInterval(function(){}, millisecond)</h3>
		<h3>지정된 millisecond시간이 경과할 때마다 반복적으로 function을 수행한다</h3>
		<h3>종료하기 위해 clearInterval(id변수)를 호출한다</h3>
		<input type="button" id="start" value="확인" onclick="proc2()">
		<input type="button" id="stop" value="종료" onclick="stop()">
		<div id="result2" class="result"></div>
	</div>
</body>
</html>